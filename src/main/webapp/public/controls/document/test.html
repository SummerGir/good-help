<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>test</title>
    <script type="text/javascript">
        function myFunction(){
            var pastedText;
            if (window.clipboardData && window.clipboardData.getData) { // IE
                pastedText = window.clipboardData.getData('Text');
            } else {
                pastedText = event.clipboardData.items;
                for(var item in pastedText){
                    console.log(item.type);
                }
            }
            console.log(pastedText);
        }

        function paste_img() {
            var e=event;
            if ( e.clipboardData.items ) {
                var ele = e.clipboardData.items;
                for (var i = 0; i < ele.length; ++i) {
                    if ( ele[i].kind === 'file' && ele[i].type.indexOf('image/') !== -1 ) {
                        var blob = ele[i].getAsFile();
                        window.URL = window.URL || window.webkitURL;
                        var blobUrl = window.URL.createObjectURL(blob);
                        console.log(blobUrl);

                        var new_img= document.createElement('img');
                        new_img.setAttribute('src', blobUrl);
                        var new_img_intro = document.createElement('p');
                        new_img_intro.innerHTML = 'the pasted img url(open it in new tab): <br /><a target="_blank" href="' + blobUrl + '">' + blobUrl + '</a>';

                        document.getElementById('editable').appendChild(new_img);
                        document.getElementById('editable').appendChild(new_img_intro);
                    }

                }
            } else {
                alert('non-chrome');
            }
        }
    </script>
</head>
<body>
    <div style="width: 500px;height: 500px;background-color: red"  contenteditable="true" onpaste="paste_img()" id="editable"></div>
</body>
</html>
